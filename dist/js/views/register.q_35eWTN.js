import{f as e,ai as s,o as t,b as a,e as l,Q as o,al as i,U as r,a as p,P as n,T as d}from"../@vue/@vue.DxeBp1Jb.js";import{_ as u,a as c,b as m}from"../《食卡Cofood》logo 文字@2x/《食卡Cofood》logo 文字@2x.D-hT81Hf.js";import{u as v}from"../vue-router/vue-router.FzVT_K_J.js";import{a as h}from"../axios/axios.CQPGHLVK.js";import{Q as j}from"../qs/qs.BARv_C7T.js";import{_ as f}from"../../assets/index-QyJHlfEK.js";import"../call-bind/call-bind.D1iMAyeM.js";import"../get-intrinsic/get-intrinsic.DbCd8zmJ.js";import"../es-errors/es-errors.Bza6HHKb.js";import"../has-symbols/has-symbols.BjfDv0FJ.js";import"../has-proto/has-proto.DxUgyt-t.js";import"../function-bind/function-bind.Ckw9YnhN.js";import"../hasown/hasown.DsboJJ18.js";import"../set-function-length/set-function-length.CCKGipDU.js";import"../define-data-property/define-data-property.CvDXTuY0.js";import"../es-define-property/es-define-property.FRbcrN3S.js";import"../gopd/gopd.j5l6Efxt.js";import"../has-property-descriptors/has-property-descriptors.CY2YXBa2.js";import"../side-channel/side-channel.DJYzpy4H.js";import"../object-inspect/object-inspect.P5XpyQHV.js";import"../@element-plus/@element-plus.C5i50YMX.js";import"../element-plus/element-plus.2vtViu-7.js";import"../lodash-es/lodash-es.CjrOehCd.js";import"../@vueuse/@vueuse.D4Ybh3Qb.js";import"../@popperjs/@popperjs.CpAfbxx4.js";import"../@ctrl/@ctrl.D2oWfImC.js";import"../dayjs/dayjs.Dyxp66XG.js";import"../async-validator/async-validator.Cuo4gI4y.js";import"../memoize-one/memoize-one.Ds0C_khL.js";import"../normalize-wheel-es/normalize-wheel-es.Vn5vHDCm.js";import"../@floating-ui/@floating-ui.OmdWBiZ4.js";import"../vuex/vuex.3Epu8Ot1.js";const g={class:"container"},y={class:"banner"},b={class:"secondBanner"},x={class:"coreBusiness"},w={class:"loginInput"},_={class:"inputField account"},C={class:"inputField password"},k={class:"inputField password"},U={class:"inputField checkCode"},z=["disabled"],F={class:"else"},I=f({__name:"register",setup(f){const I=v(),V=e(""),q=e(""),B=e(""),Q=e(""),$=e(0),L=async()=>{if(V.value)try{const e=await h({method:"post",url:`http://www.femto.fun/verify-email?email=${V.value}&action=0`});if(409===e.data.code)alert("账号已注册！");else if(200===e.data.code){alert("验证码发送成功"),$.value=60;const e=setInterval((()=>{$.value--,0===$.value&&clearInterval(e)}),1e3)}else alert("验证码发送失败")}catch(e){alert("验证码发送失败")}else alert("邮箱不能为空")},P=async()=>{if(V.value)if(q.value)if(B.value===q.value)if(Q.value)try{const e={email:V.value,password:q.value,verifyCode:Q.value};h.post("http://127.0.0.1:4523/m1/4260973-0-default/user-register-email",j.stringify(e)).then((e=>{const s=e.data;200===e.status?201===s.code?(alert("注册成功"),I.push("/home")):401===s.code?alert("验证码错误"):alert("注册失败"):alert("注册失败")})).catch((e=>{alert("注册失败")}))}catch(e){alert("注册失败")}else alert("请输入验证码");else alert("两次输入密码不一致！");else alert("密码不能为空");else alert("用户名不能为空")};return(e,v)=>{const h=s("router-link");return t(),a("div",g,[l("div",y,[l("div",b,[v[10]||(v[10]=l("div",{class:"allLogo"},[l("img",{src:u,alt:"",style:{width:"46px",height:"71px","border-radius":"34px"}}),l("img",{src:c,alt:"",style:{width:"132px",height:"53px"}}),l("img",{src:m,alt:"",style:{width:"130px",height:"63px"}})],-1)),l("div",x,[v[9]||(v[9]=l("div",{class:"title"},null,-1)),l("div",w,[l("div",_,[v[4]||(v[4]=l("div",{class:"img"},null,-1)),o(l("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=e=>V.value=e),placeholder:"请输入邮箱号"},null,512),[[i,V.value]])]),l("div",C,[v[5]||(v[5]=l("div",{class:"img"},null,-1)),o(l("input",{type:"password","onUpdate:modelValue":v[1]||(v[1]=e=>q.value=e),placeholder:"请输入密码"},null,512),[[i,q.value]])]),l("div",k,[v[6]||(v[6]=l("div",{class:"img"},null,-1)),o(l("input",{type:"password","onUpdate:modelValue":v[2]||(v[2]=e=>B.value=e),placeholder:"请再次输入密码"},null,512),[[i,B.value]])]),l("div",U,[v[7]||(v[7]=l("div",{class:"img"},null,-1)),o(l("input",{type:"text","onUpdate:modelValue":v[3]||(v[3]=e=>Q.value=e),placeholder:"请输入验证码"},null,512),[[i,Q.value]]),l("button",{onClick:L,disabled:$.value>0},r($.value>0?`重新获取(${$.value})`:"获取验证码"),9,z)])]),l("div",F,[p(h,{to:"/",style:{float:"right"}},{default:n((()=>v[8]||(v[8]=[d("已有账号？立即登录")]))),_:1})]),l("button",{class:"regigsterButton",onClick:P},"注册")])])])])}}},[["__scopeId","data-v-5660672b"]]);export{I as default};
